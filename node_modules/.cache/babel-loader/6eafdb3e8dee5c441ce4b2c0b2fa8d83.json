{"remainingRequest":"E:\\excel\\node_modules\\babel-loader\\lib\\index.js!E:\\excel\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!E:\\excel\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!E:\\excel\\src\\components\\wangEditor.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\excel\\src\\components\\wangEditor.vue","mtime":1648691104572},{"path":"E:\\excel\\babel.config.js","mtime":1639197980677},{"path":"E:\\excel\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1669859218110},{"path":"E:\\excel\\node_modules\\babel-loader\\lib\\index.js","mtime":1669859218625},{"path":"E:\\excel\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1669859218110},{"path":"E:\\excel\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1669859218719}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IEUgZnJvbSAid2FuZ2VkaXRvciI7CmltcG9ydCB7IHVwbG9hZCB9IGZyb20gIkAvYXBpL2FkbWluIjsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBlZGl0b3I6IG51bGwsCiAgICAgIGVkaXRvckNvbnRlbnQ6IHRoaXMubW9kZWxWYWx1ZQogICAgfTsKICB9LAoKICBwcm9wczogewogICAgbW9kZWxWYWx1ZTogewogICAgICBkZWZhdWx0OiAiIgogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIG1vZGVsVmFsdWUobmV3VmFsKSB7CiAgICAgIGlmIChuZXdWYWwgPT0gIiIpIHsKICAgICAgICB0aGlzLmVkaXRvci50eHQuY2xlYXIoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmVkaXRvci50eHQuaHRtbChuZXdWYWwpOwogICAgICB9CiAgICB9LAoKICAgIGVkaXRvckNvbnRlbnQobmV3VmFsKSB7CiAgICAgIHRoaXMuJGVtaXQoInVwZGF0ZTptb2RlbFZhbHVlIiwgbmV3VmFsKTsKICAgIH0KCiAgfSwKICBtZXRob2RzOiB7fSwKCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuZWRpdG9yID0gbmV3IEUodGhpcy4kcmVmcy5lZGl0b3JFbGVtKTsgLy8g57yW6L6R5Zmo55qE5LqL5Lu277yM5q+P5qyh5pS55Y+Y5Lya6I635Y+W5YW2aHRtbOWGheWuuQoKICAgIHRoaXMuZWRpdG9yLmNvbmZpZy5vbmNoYW5nZSA9IGh0bWwgPT4gewogICAgICB0aGlzLmVkaXRvckNvbnRlbnQgPSBodG1sOwogICAgfTsgLy8g6YWN572u6I+c5Y2V5qCP77yM6K6+572u5LiN6ZyA6KaB55qE6I+c5Y2VCgoKICAgIHRoaXMuZWRpdG9yLmNvbmZpZy5leGNsdWRlTWVudXMgPSBbInVuZG8iLCAicmVkbyJdOyAvL+mFjee9ruS4iuS8oOWbvueJhwoKICAgIHRoaXMuZWRpdG9yLmNvbmZpZy51cGxvYWRJbWdBY2NlcHQgPSBbImpwZyIsICJqcGVnIiwgInBuZyJdOwoKICAgIHRoaXMuZWRpdG9yLmNvbmZpZy5jdXN0b21VcGxvYWRJbWcgPSAocmVzdWx0RmlsZXMsIGluc2VydEltZ0ZuKSA9PiB7CiAgICAgIGxldCBmaWxlID0gcmVzdWx0RmlsZXNbMF07CiAgICAgIGNvbnN0IGlzTHQyTSA9IGZpbGUuc2l6ZSAvIDEwMjQgLyAxMDI0IDwgMjsKCiAgICAgIGlmICghaXNMdDJNKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigi5Zu+54mH5aSn5bCP5LiN5Y+v6LaF6L+HIDJNQiEiKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB1cGxvYWQoZmlsZSkudGhlbihyZXMgPT4gewogICAgICAgICAgLy8g5LiK5Lyg5Zu+54mH77yM6L+U5Zue57uT5p6c77yM5bCG5Zu+54mH5o+S5YWl5Yiw57yW6L6R5Zmo5LitCiAgICAgICAgICBpbnNlcnRJbWdGbihyZXMuZGF0YS5wYXRoKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfTsgLy/phY3nva7kuIrkvKDop4bpopEKCgogICAgdGhpcy5lZGl0b3IuY29uZmlnLnVwbG9hZFZpZGVvTWF4U2l6ZSA9IDEgKiAxMDI0ICogMTAyNDsgLy8gNTAwbQoKICAgIHRoaXMuZWRpdG9yLmNvbmZpZy51cGxvYWRWaWRlb0FjY2VwdCA9IFsibXA0Il07CgogICAgdGhpcy5lZGl0b3IuY29uZmlnLmN1c3RvbVVwbG9hZFZpZGVvID0gKHJlc3VsdEZpbGVzLCBpbnNlcnRWaWRlb0ZuKSA9PiB7CiAgICAgIC8vIHJlc3VsdEZpbGVzIOaYryBpbnB1dCDkuK3pgInkuK3nmoTmlofku7bliJfooagKICAgICAgLy8gaW5zZXJ0VmlkZW9GbiDmmK/ojrflj5bop4bpopEgdXJsIOWQju+8jOaPkuWFpeWIsOe8lui+keWZqOeahOaWueazlQogICAgICBsZXQgZmlsZSA9IHJlc3VsdEZpbGVzWzBdOwogICAgICBjb25zdCBpc0x0ID0gZmlsZS5zaXplIC8gMTAyNCAvIDEwMjQgPCA0MDA7CgogICAgICBpZiAoIWlzTHQpIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCLop4bpopHlpKflsI/kuI3lj6/otoXov4cgNDAwTUIhIik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdXBsb2FkKGZpbGUpLnRoZW4ocmVzID0+IHsKICAgICAgICAgIC8vIOS4iuS8oOinhumike+8jOi/lOWbnue7k+aenO+8jOWwhuinhumikeWcsOWdgOaPkuWFpeWIsOe8lui+keWZqOS4rQogICAgICAgICAgaW5zZXJ0VmlkZW9GbihyZXMuZGF0YS5wYXRoKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfTsKCiAgICB0aGlzLmVkaXRvci5jcmVhdGUoKTsgLy8g5Yib5bu65a+M5paH5pys5a6e5L6LCiAgfQoKfTs="},{"version":3,"mappings":"AAMA,OAAOA,CAAP,MAAc,YAAd;AACA,SAASC,MAAT,QAAuB,aAAvB;AACA,eAAe;EACbC,IAAI,GAAG;IACL,OAAO;MACLC,MAAM,EAAE,IADH;MAELC,aAAa,EAAE,KAAKC;IAFf,CAAP;EAID,CANY;;EAObC,KAAK,EAAE;IACLD,UAAU,EAAE;MACVE,OAAO,EAAE;IADC;EADP,CAPM;EAYbC,KAAK,EAAE;IACLH,UAAU,CAACI,MAAD,EAAS;MACjB,IAAIA,MAAK,IAAK,EAAd,EAAkB;QAChB,KAAKN,MAAL,CAAYO,GAAZ,CAAgBC,KAAhB;MACF,CAFA,MAEO;QACL,KAAKR,MAAL,CAAYO,GAAZ,CAAgBE,IAAhB,CAAqBH,MAArB;MACF;IACD,CAPI;;IAQLL,aAAa,CAACK,MAAD,EAAS;MACpB,KAAKI,KAAL,CAAW,mBAAX,EAAgCJ,MAAhC;IACD;;EAVI,CAZM;EAwBbK,OAAO,EAAE,EAxBI;;EAyBbC,OAAO,GAAG;IACR,KAAKZ,MAAL,GAAc,IAAIH,CAAJ,CAAM,KAAKgB,KAAL,CAAWC,UAAjB,CAAd,CADQ,CAER;;IACA,KAAKd,MAAL,CAAYe,MAAZ,CAAmBC,QAAnB,GAA+BP,IAAD,IAAU;MACtC,KAAKR,aAAL,GAAqBQ,IAArB;IACD,CAFD,CAHQ,CAMR;;;IACA,KAAKT,MAAL,CAAYe,MAAZ,CAAmBE,YAAnB,GAAkC,CAAC,MAAD,EAAS,MAAT,CAAlC,CAPQ,CASR;;IACA,KAAKjB,MAAL,CAAYe,MAAZ,CAAmBG,eAAnB,GAAqC,CAAC,KAAD,EAAQ,MAAR,EAAe,KAAf,CAArC;;IACA,KAAKlB,MAAL,CAAYe,MAAZ,CAAmBI,eAAnB,GAAqC,CAACC,WAAD,EAAcC,WAAd,KAA8B;MACjE,IAAIC,IAAG,GAAIF,WAAW,CAAC,CAAD,CAAtB;MACA,MAAMG,MAAK,GAAID,IAAI,CAACE,IAAL,GAAY,IAAZ,GAAmB,IAAnB,GAA0B,CAAzC;;MACA,IAAI,CAACD,MAAL,EAAa;QACX,KAAKE,QAAL,CAAcC,KAAd,CAAoB,eAApB;MACD,CAFD,MAEK;QACF5B,MAAM,CAACwB,IAAD,CAAN,CAAaK,IAAb,CAAmBC,GAAD,IAAS;UACxB;UACFP,WAAW,CAACO,GAAG,CAAC7B,IAAJ,CAAS8B,IAAV,CAAX;QACD,CAHA;MAIH;IAGD,CAbD,CAXQ,CAyBR;;;IACA,KAAK7B,MAAL,CAAYe,MAAZ,CAAmBe,kBAAnB,GAAwC,IAAI,IAAJ,GAAW,IAAnD,CA1BQ,CA0BiD;;IACzD,KAAK9B,MAAL,CAAYe,MAAZ,CAAmBgB,iBAAnB,GAAuC,CAAC,KAAD,CAAvC;;IACA,KAAK/B,MAAL,CAAYe,MAAZ,CAAmBiB,iBAAnB,GAAuC,CAACZ,WAAD,EAAca,aAAd,KAAgC;MACrE;MACA;MACA,IAAIX,IAAG,GAAIF,WAAW,CAAC,CAAD,CAAtB;MACA,MAAMc,IAAG,GAAIZ,IAAI,CAACE,IAAL,GAAY,IAAZ,GAAmB,IAAnB,GAA0B,GAAvC;;MACA,IAAI,CAACU,IAAL,EAAW;QACT,KAAKT,QAAL,CAAcC,KAAd,CAAoB,iBAApB;MACF,CAFA,MAEO;QACL5B,MAAM,CAACwB,IAAD,CAAN,CAAaK,IAAb,CAAmBC,GAAD,IAAS;UACzB;UACAK,aAAa,CAACL,GAAG,CAAC7B,IAAJ,CAAS8B,IAAV,CAAb;QACD,CAHD;MAIF;IACD,CAbD;;IAcA,KAAK7B,MAAL,CAAYmC,MAAZ,GA1CQ,CA0Cc;EACvB;;AApEY,CAAf","names":["E","upload","data","editor","editorContent","modelValue","props","default","watch","newVal","txt","clear","html","$emit","methods","mounted","$refs","editorElem","config","onchange","excludeMenus","uploadImgAccept","customUploadImg","resultFiles","insertImgFn","file","isLt2M","size","$message","error","then","res","path","uploadVideoMaxSize","uploadVideoAccept","customUploadVideo","insertVideoFn","isLt","create"],"sourceRoot":"","sources":["E:\\excel\\src\\components\\wangEditor.vue"],"sourcesContent":["<template>\r\n  <div id=\"wangeditor\">\r\n    <div ref=\"editorElem\" style=\"text-align: left\"></div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport E from \"wangeditor\";\r\nimport { upload } from \"@/api/admin\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      editor: null,\r\n      editorContent: this.modelValue,\r\n    };\r\n  },\r\n  props: {\r\n    modelValue: {\r\n      default: \"\",\r\n    },\r\n  },\r\n  watch: {\r\n    modelValue(newVal) {\r\n      if (newVal == \"\") {\r\n        this.editor.txt.clear();\r\n      } else {\r\n        this.editor.txt.html(newVal);\r\n      }\r\n    },\r\n    editorContent(newVal) {\r\n      this.$emit(\"update:modelValue\", newVal);\r\n    },\r\n  },\r\n  methods: {},\r\n  mounted() {\r\n    this.editor = new E(this.$refs.editorElem);\r\n    // 编辑器的事件，每次改变会获取其html内容\r\n    this.editor.config.onchange = (html) => {\r\n      this.editorContent = html;\r\n    };\r\n    // 配置菜单栏，设置不需要的菜单\r\n    this.editor.config.excludeMenus = [\"undo\", \"redo\"];\r\n\r\n    //配置上传图片\r\n    this.editor.config.uploadImgAccept = [\"jpg\", \"jpeg\",\"png\"];\r\n    this.editor.config.customUploadImg = (resultFiles, insertImgFn) => {\r\n      let file = resultFiles[0];\r\n      const isLt2M = file.size / 1024 / 1024 < 2;\r\n      if (!isLt2M) {\r\n        this.$message.error(\"图片大小不可超过 2MB!\");\r\n      }else{\r\n         upload(file).then((res) => {\r\n            // 上传图片，返回结果，将图片插入到编辑器中\r\n          insertImgFn(res.data.path);\r\n        });\r\n      }\r\n \r\n     \r\n    };\r\n    //配置上传视频\r\n    this.editor.config.uploadVideoMaxSize = 1 * 1024 * 1024; // 500m\r\n    this.editor.config.uploadVideoAccept = [\"mp4\"];\r\n    this.editor.config.customUploadVideo = (resultFiles, insertVideoFn) => {\r\n      // resultFiles 是 input 中选中的文件列表\r\n      // insertVideoFn 是获取视频 url 后，插入到编辑器的方法\r\n      let file = resultFiles[0];\r\n      const isLt = file.size / 1024 / 1024 < 400;\r\n      if (!isLt) {\r\n        this.$message.error(\"视频大小不可超过 400MB!\");\r\n      } else {\r\n        upload(file).then((res) => {\r\n          // 上传视频，返回结果，将视频地址插入到编辑器中\r\n          insertVideoFn(res.data.path);\r\n        });\r\n      }\r\n    };\r\n    this.editor.create(); // 创建富文本实例\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>"]}]}