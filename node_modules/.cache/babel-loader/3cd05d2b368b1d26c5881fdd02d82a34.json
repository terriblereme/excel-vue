{"remainingRequest":"D:\\liu\\company\\hxjrsy_website\\HX\\hxjrsy-protal\\node_modules\\babel-loader\\lib\\index.js!D:\\liu\\company\\hxjrsy_website\\HX\\hxjrsy-protal\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!D:\\liu\\company\\hxjrsy_website\\HX\\hxjrsy-protal\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\liu\\company\\hxjrsy_website\\HX\\hxjrsy-protal\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\liu\\company\\hxjrsy_website\\HX\\hxjrsy-protal\\src\\components\\wangEditor.vue?vue&type=template&id=c1ee1140","dependencies":[{"path":"D:\\liu\\company\\hxjrsy_website\\HX\\hxjrsy-protal\\src\\components\\wangEditor.vue","mtime":1648691104572},{"path":"D:\\liu\\company\\hxjrsy_website\\HX\\hxjrsy-protal\\babel.config.js","mtime":1639197980677},{"path":"D:\\liu\\company\\hxjrsy_website\\HX\\hxjrsy-protal\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1669859218110},{"path":"D:\\liu\\company\\hxjrsy_website\\HX\\hxjrsy-protal\\node_modules\\babel-loader\\lib\\index.js","mtime":1669859218625},{"path":"D:\\liu\\company\\hxjrsy_website\\HX\\hxjrsy-protal\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1669859219032},{"path":"D:\\liu\\company\\hxjrsy_website\\HX\\hxjrsy-protal\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1669859218110},{"path":"D:\\liu\\company\\hxjrsy_website\\HX\\hxjrsy-protal\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1669859218719}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jayB9IGZyb20gInZ1ZSI7CmNvbnN0IF9ob2lzdGVkXzEgPSB7CiAgaWQ6ICJ3YW5nZWRpdG9yIgp9Owpjb25zdCBfaG9pc3RlZF8yID0gewogIHJlZjogImVkaXRvckVsZW0iLAogIHN0eWxlOiB7CiAgICAidGV4dC1hbGlnbiI6ICJsZWZ0IgogIH0KfTsKZXhwb3J0IGZ1bmN0aW9uIHJlbmRlcihfY3R4LCBfY2FjaGUsICRwcm9wcywgJHNldHVwLCAkZGF0YSwgJG9wdGlvbnMpIHsKICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCBfaG9pc3RlZF8xLCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMiwgbnVsbCwgNTEyCiAgLyogTkVFRF9QQVRDSCAqLwogICldKTsKfQ=="},{"version":3,"mappings":";;EACOA,EAAE,EAAC;;;EACDC,GAAG,EAAC;EAAaC,KAAwB,EAAxB;IAAA;EAAA;;;uBADxBC,oBAEM,KAFN,cAEM,CADJC,oBAAqD,KAArD,cAAqD,IAArD,EAAqD;EAAA;EAArD,CACI,CAFN","names":["id","ref","style","_createElementBlock","_createElementVNode"],"sourceRoot":"","sources":["D:\\liu\\company\\hxjrsy_website\\HX\\hxjrsy-protal\\src\\components\\wangEditor.vue"],"sourcesContent":["<template>\r\n  <div id=\"wangeditor\">\r\n    <div ref=\"editorElem\" style=\"text-align: left\"></div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport E from \"wangeditor\";\r\nimport { upload } from \"@/api/admin\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      editor: null,\r\n      editorContent: this.modelValue,\r\n    };\r\n  },\r\n  props: {\r\n    modelValue: {\r\n      default: \"\",\r\n    },\r\n  },\r\n  watch: {\r\n    modelValue(newVal) {\r\n      if (newVal == \"\") {\r\n        this.editor.txt.clear();\r\n      } else {\r\n        this.editor.txt.html(newVal);\r\n      }\r\n    },\r\n    editorContent(newVal) {\r\n      this.$emit(\"update:modelValue\", newVal);\r\n    },\r\n  },\r\n  methods: {},\r\n  mounted() {\r\n    this.editor = new E(this.$refs.editorElem);\r\n    // 编辑器的事件，每次改变会获取其html内容\r\n    this.editor.config.onchange = (html) => {\r\n      this.editorContent = html;\r\n    };\r\n    // 配置菜单栏，设置不需要的菜单\r\n    this.editor.config.excludeMenus = [\"undo\", \"redo\"];\r\n\r\n    //配置上传图片\r\n    this.editor.config.uploadImgAccept = [\"jpg\", \"jpeg\",\"png\"];\r\n    this.editor.config.customUploadImg = (resultFiles, insertImgFn) => {\r\n      let file = resultFiles[0];\r\n      const isLt2M = file.size / 1024 / 1024 < 2;\r\n      if (!isLt2M) {\r\n        this.$message.error(\"图片大小不可超过 2MB!\");\r\n      }else{\r\n         upload(file).then((res) => {\r\n            // 上传图片，返回结果，将图片插入到编辑器中\r\n          insertImgFn(res.data.path);\r\n        });\r\n      }\r\n \r\n     \r\n    };\r\n    //配置上传视频\r\n    this.editor.config.uploadVideoMaxSize = 1 * 1024 * 1024; // 500m\r\n    this.editor.config.uploadVideoAccept = [\"mp4\"];\r\n    this.editor.config.customUploadVideo = (resultFiles, insertVideoFn) => {\r\n      // resultFiles 是 input 中选中的文件列表\r\n      // insertVideoFn 是获取视频 url 后，插入到编辑器的方法\r\n      let file = resultFiles[0];\r\n      const isLt = file.size / 1024 / 1024 < 400;\r\n      if (!isLt) {\r\n        this.$message.error(\"视频大小不可超过 400MB!\");\r\n      } else {\r\n        upload(file).then((res) => {\r\n          // 上传视频，返回结果，将视频地址插入到编辑器中\r\n          insertVideoFn(res.data.path);\r\n        });\r\n      }\r\n    };\r\n    this.editor.create(); // 创建富文本实例\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>"]}]}