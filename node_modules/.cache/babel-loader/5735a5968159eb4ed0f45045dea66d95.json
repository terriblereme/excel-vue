{"remainingRequest":"D:\\liu\\company\\hxjrsy_website\\HX\\hxjrsy-protal\\node_modules\\babel-loader\\lib\\index.js!D:\\liu\\company\\hxjrsy_website\\HX\\hxjrsy-protal\\node_modules\\eslint-loader\\index.js??ref--14-0!D:\\liu\\company\\hxjrsy_website\\HX\\hxjrsy-protal\\src\\api\\service.js","dependencies":[{"path":"D:\\liu\\company\\hxjrsy_website\\HX\\hxjrsy-protal\\src\\api\\service.js","mtime":1651043973602},{"path":"D:\\liu\\company\\hxjrsy_website\\HX\\hxjrsy-protal\\babel.config.js","mtime":1639197980677},{"path":"D:\\liu\\company\\hxjrsy_website\\HX\\hxjrsy-protal\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1669859218110},{"path":"D:\\liu\\company\\hxjrsy_website\\HX\\hxjrsy-protal\\node_modules\\babel-loader\\lib\\index.js","mtime":1669859218625},{"path":"D:\\liu\\company\\hxjrsy_website\\HX\\hxjrsy-protal\\node_modules\\eslint-loader\\index.js","mtime":1669859218235}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZXJyb3IuY2F1c2UuanMiOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgeyBFbExvYWRpbmcsIEVsTWVzc2FnZSB9IGZyb20gJ2VsZW1lbnQtcGx1cyc7CmltcG9ydCB7IGxvZ291dCB9IGZyb20gIkAvdXRpbHMvYXV0aCI7CmltcG9ydCB7IGFwaURldmVsb3AgfSBmcm9tICdAL3V0aWxzL2NvbmZpZyc7CmxldCBsb2FkaW5nSW5zdGFuY2U7IC8vIOivt+axguWIneWni+WMlgoKY29uc3Qgc2VydmljZSA9IGF4aW9zLmNyZWF0ZSh7CiAgYmFzZVVSTDogYXBpRGV2ZWxvcCwKICAvLyB1cmwgPSBiYXNlIHVybCArIHJlcXVlc3QgdXJsCiAgdGltZW91dDogNTAwMDAgLy8gcmVxdWVzdCB0aW1lb3V0Cgp9KTsgLy8g6K+35rGC5oum5oiq5ZmoCgpzZXJ2aWNlLmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZShjb25maWcgPT4gewogIGxvYWRpbmdJbnN0YW5jZSA9IEVsTG9hZGluZy5zZXJ2aWNlKCk7CiAgcmV0dXJuIGNvbmZpZzsKfSwgZXJyb3IgPT4gewogIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7Cn0pOyAvLyDlk43lupTmi6bmiKrlmagKCnNlcnZpY2UuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZShyZXNwb25zZSA9PiB7CiAgbG9hZGluZ0luc3RhbmNlLmNsb3NlKCk7CiAgY29uc3QgcmVzID0gcmVzcG9uc2UuZGF0YTsgLy/mraPluLgKCiAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwICYmIHJlcy5jb2RlID09PSAxKSB7CiAgICBpZiAocmVzLm1zZy5sZW5ndGggIT0gIiIpIHsKICAgICAgRWxNZXNzYWdlKHsKICAgICAgICBtZXNzYWdlOiByZXMubXNnLAogICAgICAgIHR5cGU6ICdzdWNjZXNzJwogICAgICB9KTsKICAgIH0KCiAgICByZXR1cm4gcmVzOwogIH0gZWxzZSB7CiAgICBFbE1lc3NhZ2UoewogICAgICBtZXNzYWdlOiByZXMubXNnIHx8ICdFcnJvcicsCiAgICAgIHR5cGU6ICdlcnJvcicsCiAgICAgIGR1cmF0aW9uOiA1ICogMTAwMAogICAgfSk7CgogICAgaWYgKHJlcy5jb2RlID09PSA0MDEpIHsKICAgICAgbG9nb3V0KCk7CiAgICB9CgogICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihyZXMubXNnIHx8ICdFcnJvcicpKTsKICB9Cn0sIGVycm9yID0+IHsKICBsb2FkaW5nSW5zdGFuY2UuY2xvc2UoKTsKICBFbE1lc3NhZ2UoewogICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSwKICAgIHR5cGU6ICdlcnJvcicsCiAgICBkdXJhdGlvbjogNSAqIDEwMDAKICB9KTsKICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwp9KTsKZXhwb3J0IGRlZmF1bHQgc2VydmljZTs="},{"version":3,"names":["axios","ElLoading","ElMessage","logout","apiDevelop","loadingInstance","service","create","baseURL","timeout","interceptors","request","use","config","error","Promise","reject","response","close","res","data","status","code","msg","length","message","type","duration","Error"],"sources":["D:/liu/company/hxjrsy_website/HX/hxjrsy-protal/src/api/service.js"],"sourcesContent":["import axios from 'axios'\r\nimport {ElLoading, ElMessage } from 'element-plus'\r\nimport {logout} from \"@/utils/auth\"\r\nimport {apiDevelop} from '@/utils/config';\r\nlet loadingInstance;\r\n// 请求初始化\r\nconst service = axios.create({\r\n  baseURL: apiDevelop, // url = base url + request url\r\n  timeout: 50000 // request timeout\r\n})\r\n// 请求拦截器\r\nservice.interceptors.request.use(\r\n  config => {\r\n    loadingInstance = ElLoading.service();\r\n    return config\r\n  },\r\n  error => {\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\n// 响应拦截器\r\nservice.interceptors.response.use(\r\n  response => {\r\n      loadingInstance.close();\r\n    const res = response.data\r\n    //正常\r\n    if (response.status===200 && res.code === 1) {\r\n      if(res.msg.length!=\"\"){\r\n        ElMessage({\r\n          message: res.msg,\r\n          type: 'success'\r\n        })\r\n      }\r\n      return res\r\n    } else {\r\n      ElMessage({\r\n        message: res.msg || 'Error',\r\n        type: 'error',\r\n        duration: 5 * 1000\r\n      })\r\n      if(res.code=== 401){\r\n        logout();\r\n      }\r\n      return Promise.reject(new Error(res.msg || 'Error'));\r\n    }\r\n  },\r\n  error => {\r\n    loadingInstance.close();\r\n    ElMessage({\r\n      message: error.message,\r\n      type: 'error',\r\n      duration: 5 * 1000\r\n    })\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\nexport default service\r\n"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,SAAR,EAAmBC,SAAnB,QAAoC,cAApC;AACA,SAAQC,MAAR,QAAqB,cAArB;AACA,SAAQC,UAAR,QAAyB,gBAAzB;AACA,IAAIC,eAAJ,C,CACA;;AACA,MAAMC,OAAO,GAAGN,KAAK,CAACO,MAAN,CAAa;EAC3BC,OAAO,EAAEJ,UADkB;EACN;EACrBK,OAAO,EAAE,KAFkB,CAEZ;;AAFY,CAAb,CAAhB,C,CAIA;;AACAH,OAAO,CAACI,YAAR,CAAqBC,OAArB,CAA6BC,GAA7B,CACEC,MAAM,IAAI;EACRR,eAAe,GAAGJ,SAAS,CAACK,OAAV,EAAlB;EACA,OAAOO,MAAP;AACD,CAJH,EAKEC,KAAK,IAAI;EACP,OAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACD,CAPH,E,CAUA;;AACAR,OAAO,CAACI,YAAR,CAAqBO,QAArB,CAA8BL,GAA9B,CACEK,QAAQ,IAAI;EACRZ,eAAe,CAACa,KAAhB;EACF,MAAMC,GAAG,GAAGF,QAAQ,CAACG,IAArB,CAFU,CAGV;;EACA,IAAIH,QAAQ,CAACI,MAAT,KAAkB,GAAlB,IAAyBF,GAAG,CAACG,IAAJ,KAAa,CAA1C,EAA6C;IAC3C,IAAGH,GAAG,CAACI,GAAJ,CAAQC,MAAR,IAAgB,EAAnB,EAAsB;MACpBtB,SAAS,CAAC;QACRuB,OAAO,EAAEN,GAAG,CAACI,GADL;QAERG,IAAI,EAAE;MAFE,CAAD,CAAT;IAID;;IACD,OAAOP,GAAP;EACD,CARD,MAQO;IACLjB,SAAS,CAAC;MACRuB,OAAO,EAAEN,GAAG,CAACI,GAAJ,IAAW,OADZ;MAERG,IAAI,EAAE,OAFE;MAGRC,QAAQ,EAAE,IAAI;IAHN,CAAD,CAAT;;IAKA,IAAGR,GAAG,CAACG,IAAJ,KAAY,GAAf,EAAmB;MACjBnB,MAAM;IACP;;IACD,OAAOY,OAAO,CAACC,MAAR,CAAe,IAAIY,KAAJ,CAAUT,GAAG,CAACI,GAAJ,IAAW,OAArB,CAAf,CAAP;EACD;AACF,CAxBH,EAyBET,KAAK,IAAI;EACPT,eAAe,CAACa,KAAhB;EACAhB,SAAS,CAAC;IACRuB,OAAO,EAAEX,KAAK,CAACW,OADP;IAERC,IAAI,EAAE,OAFE;IAGRC,QAAQ,EAAE,IAAI;EAHN,CAAD,CAAT;EAKA,OAAOZ,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACD,CAjCH;AAoCA,eAAeR,OAAf"}]}