{"remainingRequest":"E:\\excel\\node_modules\\babel-loader\\lib\\index.js!E:\\excel\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!E:\\excel\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!E:\\excel\\src\\views\\admin\\login.vue?vue&type=script&setup=true&lang=js","dependencies":[{"path":"E:\\excel\\src\\views\\admin\\login.vue","mtime":1667988113589},{"path":"E:\\excel\\babel.config.js","mtime":1639197980677},{"path":"E:\\excel\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1669859218110},{"path":"E:\\excel\\node_modules\\babel-loader\\lib\\index.js","mtime":1669859218625},{"path":"E:\\excel\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1669859218110},{"path":"E:\\excel\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1669859218719}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZXJyb3IuY2F1c2UuanMiOwppbXBvcnQgeyBsb2dpbiB9IGZyb20gIkAvYXBpL2FkbWluIjsKaW1wb3J0IG1kNSBmcm9tICJqcy1tZDUiOwpjb25zdCBfX2RlZmF1bHRfXyA9IHsKICBuYW1lOiAiTG9naW4iLAoKICBkYXRhKCkgewogICAgY29uc3QgdmFsaWRhdGVVc2VybmFtZSA9IChydWxlLCB2YWx1ZSwgY2FsbGJhY2spID0+IHsKICAgICAgaWYgKHZhbHVlLnRyaW0oKS5sZW5ndGggPT0gMCkgewogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcigi6K+36L6T5YWl6LSm5Y+3IikpOwogICAgICB9IGVsc2UgaWYgKCEvXlswLTlhLXpBLVpdezMsMjB9JC8udGVzdCh2YWx1ZSkpIHsKICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoIui0puWPt+WMheWQq+Wtl+avjeOAgeaVsOWtl++8jOmVv+W6pjMtMjAiKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY2FsbGJhY2soKTsKICAgICAgfQogICAgfTsKCiAgICBjb25zdCB2YWxpZGF0ZVBhc3N3b3JkID0gKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgPT4gewogICAgICBpZiAodmFsdWUudHJpbSgpLmxlbmd0aCA9PSAwKSB7CiAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCLor7fovpPlhaXlr4bnoIEiKSk7CiAgICAgIH0gZWxzZSBpZiAoIS9eWzAtOWEtekEtWl17NiwyMH0kLy50ZXN0KHZhbHVlKSkgewogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcigi5a+G56CB5YyF5ZCr5a2X5q+N44CB5pWw5a2X77yM6ZW/5bqmNi0yMCIpKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjYWxsYmFjaygpOwogICAgICB9CiAgICB9OwoKICAgIHJldHVybiB7CiAgICAgIGxvZ2luRm9ybTogewogICAgICAgIHVzZXJuYW1lOiAiIiwKICAgICAgICBwYXNzd29yZDogIiIsCiAgICAgICAgcmVtZW1iZXJNZTogdHJ1ZQogICAgICB9LAogICAgICBsb2dpblJ1bGVzOiB7CiAgICAgICAgdXNlcm5hbWU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIiwKICAgICAgICAgIHZhbGlkYXRvcjogdmFsaWRhdGVVc2VybmFtZQogICAgICAgIH1dLAogICAgICAgIHBhc3N3b3JkOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIsCiAgICAgICAgICB2YWxpZGF0b3I6IHZhbGlkYXRlUGFzc3dvcmQKICAgICAgICB9XQogICAgICB9LAogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgcGFzc3dvcmRUeXBlOiAicGFzc3dvcmQiLAogICAgICByZWRpcmVjdDogdW5kZWZpbmVkCiAgICB9OwogIH0sCgogIHdhdGNoOiB7CiAgICAkcm91dGU6IHsKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gKHJvdXRlKSB7CiAgICAgICAgdGhpcy5yZWRpcmVjdCA9IHJvdXRlLnF1ZXJ5ICYmIHJvdXRlLnF1ZXJ5LnJlZGlyZWN0OwogICAgICB9LAogICAgICBpbW1lZGlhdGU6IHRydWUKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGhhbmRsZUxvZ2luKCkgewogICAgICB0aGlzLiRyZWZzLmxvZ2luRi52YWxpZGF0ZSh2YWxpZCA9PiB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICBsb2dpbih7CiAgICAgICAgICAgIGxvZ2luTmFtZTogdGhpcy5sb2dpbkZvcm0udXNlcm5hbWUsCiAgICAgICAgICAgIHBhc3N3b3JkOiBtZDUodGhpcy5sb2dpbkZvcm0ucGFzc3dvcmQpLAogICAgICAgICAgICByZW1lbWJlck1lOiB0aGlzLmxvZ2luRm9ybS5yZW1lbWJlck1lCiAgICAgICAgICB9KS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgIGlmIChyZXMuY29kZSA9PT0gMSkgewogICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJsb2dpbiIsIHJlcy5kYXRhKTsKICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL2FkbWluIik7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KCiAgfQp9OwppbXBvcnQgeyBVc2VyLCBMb2NrIH0gZnJvbSAiQGVsZW1lbnQtcGx1cy9pY29ucy12dWUiOwpleHBvcnQgZGVmYXVsdCAvKiNfX1BVUkVfXyovT2JqZWN0LmFzc2lnbihfX2RlZmF1bHRfXywgewogIHNldHVwKF9fcHJvcHMsIHsKICAgIGV4cG9zZQogIH0pIHsKICAgIGV4cG9zZSgpOwogICAgY29uc3QgX19yZXR1cm5lZF9fID0gewogICAgICBsb2dpbiwKICAgICAgbWQ1LAogICAgICBVc2VyLAogICAgICBMb2NrCiAgICB9OwogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KF9fcmV0dXJuZWRfXywgJ19faXNTY3JpcHRTZXR1cCcsIHsKICAgICAgZW51bWVyYWJsZTogZmFsc2UsCiAgICAgIHZhbHVlOiB0cnVlCiAgICB9KTsKICAgIHJldHVybiBfX3JldHVybmVkX187CiAgfQoKfSk7"},{"version":3,"mappings":";AAmDA,SAASA,KAAT,QAAsB,aAAtB;AACA,OAAOC,GAAP,MAAgB,QAAhB;AACA,oBAAe;EACbC,IAAI,EAAE,OADO;;EAEbC,IAAI,GAAG;IACL,MAAMC,gBAAgB,GAAG,CAACC,IAAD,EAAOC,KAAP,EAAcC,QAAd,KAA2B;MAClD,IAAID,KAAK,CAACE,IAAN,GAAaC,MAAb,IAAuB,CAA3B,EAA8B;QAC5BF,QAAQ,CAAC,IAAIG,KAAJ,CAAU,OAAV,CAAD,CAAR;MACD,CAFD,MAEO,IAAI,CAAC,sBAAsBC,IAAtB,CAA2BL,KAA3B,CAAL,EAAwC;QAC7CC,QAAQ,CAAC,IAAIG,KAAJ,CAAU,kBAAV,CAAD,CAAR;MACD,CAFM,MAEA;QACLH,QAAQ;MACT;IACF,CARD;;IASA,MAAMK,gBAAgB,GAAG,CAACP,IAAD,EAAOC,KAAP,EAAcC,QAAd,KAA2B;MAClD,IAAID,KAAK,CAACE,IAAN,GAAaC,MAAb,IAAuB,CAA3B,EAA8B;QAC5BF,QAAQ,CAAC,IAAIG,KAAJ,CAAU,OAAV,CAAD,CAAR;MACD,CAFD,MAEO,IAAI,CAAC,sBAAsBC,IAAtB,CAA2BL,KAA3B,CAAL,EAAwC;QAC7CC,QAAQ,CAAC,IAAIG,KAAJ,CAAU,kBAAV,CAAD,CAAR;MACD,CAFM,MAEA;QACLH,QAAQ;MACT;IACF,CARD;;IASA,OAAO;MACLM,SAAS,EAAE;QACTC,QAAQ,EAAE,EADD;QAETC,QAAQ,EAAE,EAFD;QAGTC,UAAU,EAAE;MAHH,CADN;MAMLC,UAAU,EAAE;QACVH,QAAQ,EAAE,CACR;UAAEI,QAAQ,EAAE,IAAZ;UAAkBC,OAAO,EAAE,MAA3B;UAAmCC,SAAS,EAAEhB;QAA9C,CADQ,CADA;QAIVW,QAAQ,EAAE,CACR;UAAEG,QAAQ,EAAE,IAAZ;UAAkBC,OAAO,EAAE,MAA3B;UAAmCC,SAAS,EAAER;QAA9C,CADQ;MAJA,CANP;MAcLS,OAAO,EAAE,KAdJ;MAeLC,YAAY,EAAE,UAfT;MAgBLC,QAAQ,EAAEC;IAhBL,CAAP;EAkBD,CAvCY;;EAwCbC,KAAK,EAAE;IACLC,MAAM,EAAE;MACNC,OAAO,EAAE,UAAUC,KAAV,EAAiB;QACxB,KAAKL,QAAL,GAAgBK,KAAK,CAACC,KAAN,IAAeD,KAAK,CAACC,KAAN,CAAYN,QAA3C;MACD,CAHK;MAINO,SAAS,EAAE;IAJL;EADH,CAxCM;EAgDbC,OAAO,EAAE;IACPC,WAAW,GAAG;MACZ,KAAKC,KAAL,CAAWC,MAAX,CAAkBC,QAAlB,CAA4BC,KAAD,IAAW;QACpC,IAAIA,KAAJ,EAAW;UACTpC,KAAK,CAAC;YACJqC,SAAS,EAAE,KAAKxB,SAAL,CAAeC,QADtB;YAEJC,QAAQ,EAAEd,GAAG,CAAC,KAAKY,SAAL,CAAeE,QAAhB,CAFT;YAGJC,UAAU,EAAE,KAAKH,SAAL,CAAeG;UAHvB,CAAD,CAAL,CAIGsB,IAJH,CAISC,GAAD,IAAS;YACf,IAAIA,GAAG,CAACC,IAAJ,KAAa,CAAjB,EAAoB;cAClB,KAAKC,MAAL,CAAYC,QAAZ,CAAqB,OAArB,EAA8BH,GAAG,CAACpC,IAAlC;cACA,KAAKwC,OAAL,CAAaC,IAAb,CAAkB,QAAlB;YACD;UACF,CATD;QAUD,CAXD,MAWO;UACL,OAAO,KAAP;QACD;MACF,CAfD;IAgBD;;EAlBM;AAhDI,CAAf;AALA,SAASC,IAAT,EAAeC,IAAf,QAA2B,yBAA3B","names":["login","md5","name","data","validateUsername","rule","value","callback","trim","length","Error","test","validatePassword","loginForm","username","password","rememberMe","loginRules","required","trigger","validator","loading","passwordType","redirect","undefined","watch","$route","handler","route","query","immediate","methods","handleLogin","$refs","loginF","validate","valid","loginName","then","res","code","$store","dispatch","$router","push","User","Lock"],"sources":["E:/excel/src/views/admin/login.vue"],"sourcesContent":["<template>\r\n  <div class=\"login-container\">\r\n    <div class=\"login-main\">\r\n      <el-form\r\n        ref=\"loginF\"\r\n        :model=\"loginForm\"\r\n        :rules=\"loginRules\"\r\n        class=\"login-form\"\r\n        auto-complete=\"on\"\r\n        label-position=\"left\"\r\n      >\r\n        <el-form-item prop=\"username\">\r\n          <el-input\r\n            ref=\"username\"\r\n            v-model=\"loginForm.username\"\r\n            placeholder=\"请输入账号\"\r\n            name=\"username\"\r\n            type=\"text\"\r\n            tabindex=\"1\"\r\n            auto-complete=\"on\"\r\n            :prefix-icon=\"User\"\r\n          >\r\n          </el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item prop=\"password\">\r\n          <el-input\r\n            ref=\"password\"\r\n            v-model=\"loginForm.password\"\r\n            :type=\"passwordType\"\r\n            placeholder=\"请输入密码\"\r\n            name=\"password\"\r\n            tabindex=\"2\"\r\n            auto-complete=\"on\"\r\n            @keyup.enter=\"handleLogin\"\r\n            show-password\r\n            :prefix-icon=\"Lock\"\r\n          />\r\n        </el-form-item>\r\n        <el-checkbox v-model=\"loginForm.rememberMe\"\r\n          >记住我</el-checkbox\r\n        >\r\n        <el-button @click.prevent=\"handleLogin\">登录</el-button>\r\n      </el-form>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script setup>\r\nimport { User, Lock } from \"@element-plus/icons-vue\";\r\n</script>\r\n<script>\r\nimport { login } from \"@/api/admin\";\r\nimport md5 from \"js-md5\";\r\nexport default {\r\n  name: \"Login\",\r\n  data() {\r\n    const validateUsername = (rule, value, callback) => {\r\n      if (value.trim().length == 0) {\r\n        callback(new Error(\"请输入账号\"));\r\n      } else if (!/^[0-9a-zA-Z]{3,20}$/.test(value)) {\r\n        callback(new Error(\"账号包含字母、数字，长度3-20\"));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    const validatePassword = (rule, value, callback) => {\r\n      if (value.trim().length == 0) {\r\n        callback(new Error(\"请输入密码\"));\r\n      } else if (!/^[0-9a-zA-Z]{6,20}$/.test(value)) {\r\n        callback(new Error(\"密码包含字母、数字，长度6-20\"));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    return {\r\n      loginForm: {\r\n        username: \"\",\r\n        password: \"\",\r\n        rememberMe: true,\r\n      },\r\n      loginRules: {\r\n        username: [\r\n          { required: true, trigger: \"blur\", validator: validateUsername },\r\n        ],\r\n        password: [\r\n          { required: true, trigger: \"blur\", validator: validatePassword },\r\n        ],\r\n      },\r\n      loading: false,\r\n      passwordType: \"password\",\r\n      redirect: undefined,\r\n    };\r\n  },\r\n  watch: {\r\n    $route: {\r\n      handler: function (route) {\r\n        this.redirect = route.query && route.query.redirect;\r\n      },\r\n      immediate: true,\r\n    },\r\n  },\r\n  methods: {\r\n    handleLogin() {\r\n      this.$refs.loginF.validate((valid) => {\r\n        if (valid) {\r\n          login({\r\n            loginName: this.loginForm.username,\r\n            password: md5(this.loginForm.password),\r\n            rememberMe: this.loginForm.rememberMe,\r\n          }).then((res) => {\r\n            if (res.code === 1) {\r\n              this.$store.dispatch(\"login\", res.data);\r\n              this.$router.push(\"/admin\");\r\n            }\r\n          });\r\n        } else {\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\"  scope>\r\n* {\r\n  margin: 0;\r\n  padding: 0;\r\n  list-style-type: none;\r\n  box-sizing: border-box;\r\n  background-repeat: no-repeat;\r\n  background-position: center;\r\n  outline: none;\r\n  box-sizing: border-box;\r\n}\r\n/* reset element-ui css */\r\n.login-container {\r\n  height: 100vh;\r\n  width: 100vw;\r\n  overflow: hidden;\r\n  background: url(\"../../assets/img/login1.png\");\r\n  background-size: cover;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  .login-main {\r\n    width: 62.5vw;\r\n    height: 35.4688vw;\r\n    background: url(\"../../assets/img/title/login2.png\");\r\n    background-size: cover;\r\n    display: flex;\r\n    justify-content: flex-end;\r\n    align-items: center;\r\n    .login-form {\r\n      width: 50%;\r\n      display: flex;\r\n      flex-direction: column;\r\n      padding: 0 3.125vw;\r\n      .el-form-item {\r\n        border-bottom: .0625rem solid #e6e6e6;\r\n        position: relative;\r\n        line-height: 5.2083vw;\r\n        .el-input {\r\n          display: inline-block;\r\n           font-size: 1.5rem;\r\n          input {\r\n            background: transparent;\r\n            border: 0;\r\n            -webkit-appearance: none;\r\n            color: #000;\r\n            caret-color: #cccccc;\r\n            padding-left: 2.8125rem;\r\n          }\r\n        }\r\n        .el-form-item__error{\r\n           font-size: .75rem;\r\n        }\r\n      }\r\n      .el-checkbox {\r\n        font-size: 1.125rem;\r\n        color: #cccccc;\r\n      }\r\n      .el-button {\r\n        margin-top: 1.5625vw;\r\n        background: #4593ea;\r\n        border-radius: 2.0833vw;\r\n        font-size: 1.875rem;\r\n        font-weight: bold;\r\n        letter-spacing: .9375rem;\r\n        color: #fff;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n"]}]}