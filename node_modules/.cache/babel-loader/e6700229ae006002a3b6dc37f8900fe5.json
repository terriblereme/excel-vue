{"remainingRequest":"D:\\liu\\company\\excel报表\\execl-protal\\node_modules\\babel-loader\\lib\\index.js!D:\\liu\\company\\excel报表\\execl-protal\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\liu\\company\\excel报表\\execl-protal\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\liu\\company\\excel报表\\execl-protal\\src\\views\\admin\\register\\list.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\liu\\company\\excel报表\\execl-protal\\src\\views\\admin\\register\\list.vue","mtime":1651917265653},{"path":"D:\\liu\\company\\excel报表\\execl-protal\\babel.config.js","mtime":1639197980677},{"path":"D:\\liu\\company\\excel报表\\execl-protal\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1669859218110},{"path":"D:\\liu\\company\\excel报表\\execl-protal\\node_modules\\babel-loader\\lib\\index.js","mtime":1669859218625},{"path":"D:\\liu\\company\\excel报表\\execl-protal\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1669859218110},{"path":"D:\\liu\\company\\excel报表\\execl-protal\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1669859218719}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHFzIGZyb20gInFzIjsKaW1wb3J0IHsgcmVnaXN0ZXJMaXN0LCByZWdpc3RlckRlbCwgcmVnaXN0ZXJFZGl0IH0gZnJvbSAiQC9hcGkvYWRtaW4iOwppbXBvcnQgeyBhcGlEZXZlbG9wIH0gZnJvbSAiQC91dGlscy9jb25maWciOwppbXBvcnQgeyBtYXBTdGF0ZSB9IGZyb20gInZ1ZXgiOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcHV0ZWQ6IHsgLi4ubWFwU3RhdGUoWyJ1c2VyIl0pCiAgfSwKCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRvdGFsOiAwLAogICAgICBzZWFyY2hGb3JtOiB7CiAgICAgICAgaW50ZXJ2aWV3ZWVEZXB0OiBudWxsLAogICAgICAgIGtleXdvcmQ6ICIiLAogICAgICAgIHBhZ2VOdW06IDEsCiAgICAgICAgcGFnZVNpemU6IDEwCiAgICAgIH0sCiAgICAgIGRhdGVyYW5nZTogW10sCiAgICAgIGxpc3Q6IFtdLAogICAgICBlZGl0VmlzaWJsZTogZmFsc2UsCiAgICAgIGRpYWxvZ1RpdGxlOiAiIiwKICAgICAgZGF0YUZvcm06IHt9LAogICAgICBzcmNMaXN0OiBbXSwKICAgICAgc3RhdGVMaXN0OiBbewogICAgICAgIGxhYmVsOiAi5b6F5a6h5qC4IiwKICAgICAgICB2YWx1ZTogIjEiCiAgICAgIH0sIHsKICAgICAgICBsYWJlbDogIuW3sumAmui/hyIsCiAgICAgICAgdmFsdWU6ICIyIgogICAgICB9LCB7CiAgICAgICAgbGFiZWw6ICLlt7Lmi5Lnu50iLAogICAgICAgIHZhbHVlOiAiMyIKICAgICAgfSwgewogICAgICAgIGxhYmVsOiAi5bey56a75byAIiwKICAgICAgICB2YWx1ZTogIjQiCiAgICAgIH1dCiAgICB9OwogIH0sCgogIG1ldGhvZHM6IHsKICAgIGZvcm1hdFN0YXRlKHJvdykgewogICAgICBsZXQgc3QgPSB0aGlzLnN0YXRlTGlzdC5maW5kKGl0ZW0gPT4gewogICAgICAgIHJldHVybiBpdGVtLnZhbHVlID09PSByb3cuc3RhdGU7CiAgICAgIH0pOwogICAgICByZXR1cm4gc3QubGFiZWw7CiAgICB9LAoKICAgIGRvd25sb2FkKCkgewogICAgICBsZXQgdXJsID0gYXBpRGV2ZWxvcCArICIvYnNSZWdpc3RlcnMvZXhjZWxFeHBvcnQ/IiArIHFzLnN0cmluZ2lmeSh0aGlzLnNlYXJjaEZvcm0pOwogICAgICB3aW5kb3cub3Blbih1cmwpOwogICAgfSwKCiAgICBzZWFyY2hEYXRlQ2hhbmdlKCkgewogICAgICBpZiAodGhpcy5kYXRlcmFuZ2UpIHsKICAgICAgICB0aGlzLnNlYXJjaEZvcm0uc3RhcnRUaW1lID0gdGhpcy5kYXRlcmFuZ2VbMF07CiAgICAgICAgdGhpcy5zZWFyY2hGb3JtLmVuZFRpbWUgPSB0aGlzLmRhdGVyYW5nZVsxXTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnNlYXJjaEZvcm0uc3RhcnRUaW1lID0gIiI7CiAgICAgICAgdGhpcy5zZWFyY2hGb3JtLmVuZFRpbWUgPSAiIjsKICAgICAgfQogICAgfSwKCiAgICBsb2FkTGlzdChwYWdlTnVtKSB7CiAgICAgIHRoaXMuc2VhcmNoRm9ybS5wYWdlTnVtID0gcGFnZU51bTsKICAgICAgcmVnaXN0ZXJMaXN0KHRoaXMuc2VhcmNoRm9ybSkudGhlbihyZXMgPT4gewogICAgICAgIHRoaXMubGlzdCA9IHJlcy5kYXRhOwogICAgICAgIHRoaXMudG90YWwgPSByZXMudG90YWw7CiAgICAgIH0pOwogICAgfSwKCiAgICBoYW5kbGVEZXNjKHJvdykgewogICAgICB0aGlzLmVkaXRWaXNpYmxlID0gdHJ1ZTsKICAgICAgdGhpcy5kaWFsb2dUaXRsZSA9ICLor6bmg4UiOwogICAgICB0aGlzLmRhdGFGb3JtID0gcm93OwogICAgICB0aGlzLnNyY0xpc3QgPSBbcm93LnBob3RvLCByb3cuY29kZTEsIHJvdy5jb2RlMiwgcm93LmNvZGUzXTsKICAgIH0sCgogICAgaGFuZGxlRXhpdChyb3cpIHsKICAgICAgcmVnaXN0ZXJFZGl0KHsKICAgICAgICBpZDogcm93LmlkLAogICAgICAgIHN0YXRlOiA0LAogICAgICAgIGd1YXJkTmFtZTogdGhpcy51c2VyLm5pY2tOYW1lCiAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgIHRoaXMubG9hZExpc3QoKTsKICAgICAgfSk7CiAgICB9LAoKICAgIGhhbmRsZURlbGV0ZShyb3cpIHsKICAgICAgdGhpcy4kbXNnYm94LmNvbmZpcm0oIuaCqOehruiupOimgeWIoOmZpOivpeaVsOaNruWQlz8iLCAi5Yig6Zmk56Gu6K6kIiwgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAi56Gu6K6kIiwKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAi5Y+W5raIIiwKICAgICAgICB0eXBlOiAid2FybmluZyIKICAgICAgfSkudGhlbigoKSA9PiB7CiAgICAgICAgcmVnaXN0ZXJEZWwocm93LmlkKS50aGVuKCgpID0+IHsKICAgICAgICAgIHRoaXMubG9hZExpc3QoMSk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQoKICB9LAoKICBtb3VudGVkKCkgewogICAgLy8gdGhpcy5zZWFyY2hGb3JtLmludGVydmlld2VlRGVwdCA9IHRoaXMuJHN0b3JlLnN0YXRlLnVzZXIuZGVwdElkOwogICAgdGhpcy5zZWFyY2hGb3JtLnBhcmVudERlcHQgPSB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLmRlcHRJZDsKICAgIHRoaXMubG9hZExpc3QoMSk7CiAgfQoKfTs="},{"version":3,"mappings":"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","names":["qs","registerList","registerDel","registerEdit","apiDevelop","mapState","computed","data","total","searchForm","intervieweeDept","keyword","pageNum","pageSize","daterange","list","editVisible","dialogTitle","dataForm","srcList","stateList","label","value","methods","formatState","row","st","find","item","state","download","url","stringify","window","open","searchDateChange","startTime","endTime","loadList","then","res","handleDesc","photo","code1","code2","code3","handleExit","id","guardName","user","nickName","handleDelete","$msgbox","confirm","confirmButtonText","cancelButtonText","type","mounted","parentDept","$store","deptId"],"sourceRoot":"","sources":["D:\\liu\\company\\excel报表\\execl-protal\\src\\views\\admin\\register\\list.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"top-bread\">\r\n      <div class=\"top-line\"></div>\r\n      <span class=\"top-title\">来访记录</span>\r\n    </div>\r\n    <div class=\"table-main\">\r\n      <div class=\"search-div\">\r\n        <div class=\"btn\"></div>\r\n        <div class=\"search-form\">\r\n          <el-form :inline=\"true\">\r\n            <el-form-item label=\"关键字\">\r\n              <el-input v-model=\"searchForm.keyword\" />\r\n            </el-form-item>\r\n            <el-form-item label=\"状态\">\r\n              <el-select\r\n                v-model=\"searchForm.state\"\r\n                clearable\r\n                placeholder=\"请选择\"\r\n              >\r\n                <el-option\r\n                  v-for=\"item in stateList\"\r\n                  :key=\"item.value\"\r\n                  :label=\"item.label\"\r\n                  :value=\"item.value\"\r\n                >\r\n                </el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n            <el-form-item label=\"来访时间\">\r\n              <el-date-picker\r\n                v-model=\"daterange\"\r\n                type=\"daterange\"\r\n                range-separator=\"到\"\r\n                start-placeholder=\"开始日期\"\r\n                end-placeholder=\"结束日期\"\r\n                value-format=\"YYYY-MM-DD\"\r\n                @change=\"searchDateChange\"\r\n              >\r\n              </el-date-picker>\r\n            </el-form-item>\r\n            <el-form-item>\r\n              <el-button type=\"primary\" icon=\"Search\" @click=\"loadList(1)\"\r\n                >查询</el-button\r\n              >\r\n              <el-button\r\n                type=\"primary\"\r\n                icon=\"Download\"\r\n                @click=\"download()\"\r\n                v-if=\"hasPermission('register-export')\"\r\n                >导出</el-button\r\n              >\r\n            </el-form-item>\r\n          </el-form>\r\n        </div>\r\n      </div>\r\n      <el-table\r\n        :data=\"list\"\r\n        border\r\n        stripe\r\n        style=\"width: 100%\"\r\n        empty-text=\"暂无数据\"\r\n        size=\"small\"\r\n      >\r\n        <el-table-column type=\"index\" width=\"50\" align=\"center\" label=\"序号\">\r\n          <template #default=\"scope\">\r\n            {{\r\n              (this.searchForm.pageNum - 1) * this.searchForm.pageSize +\r\n              scope.$index +\r\n              1\r\n            }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"visitingDept\" label=\"来访单位\" />\r\n        <el-table-column prop=\"visitingName\" label=\"来访者\" />\r\n        <el-table-column prop=\"visitingPhone\" label=\"来访者电话\" />\r\n        <el-table-column prop=\"visitingVehicle\" label=\"车牌号\" />\r\n        <el-table-column prop=\"visitingTime\" label=\"来访时间\" />\r\n        <el-table-column prop=\"intervieweeName\" label=\"受访者\" />\r\n        <el-table-column prop=\"intervieweeDeptName\" label=\"受访部门\" />\r\n        <el-table-column prop=\"intervieweeUnit\" label=\"受访单位\" />\r\n        <el-table-column label=\"状态\" prop=\"state\" :formatter=\"formatState\" />\r\n        <el-table-column label=\"操作\">\r\n          <template #default=\"scope\">\r\n            <el-button\r\n              size=\"mini\"\r\n              type=\"text\"\r\n              @click=\"handleDesc(scope.row)\"\r\n              v-if=\"hasPermission('register-desc')\"\r\n              >详情</el-button\r\n            >\r\n            <el-button\r\n              size=\"mini\"\r\n              type=\"text\"\r\n              @click=\"handleExit(scope.row)\"\r\n              v-if=\"hasPermission('register-exit') && scope.row.state == 2\"\r\n              >离开</el-button\r\n            >\r\n            <el-button\r\n              size=\"mini\"\r\n              type=\"text\"\r\n              style=\"color: #f56c6c\"\r\n              @click=\"handleDelete(scope.row)\"\r\n              v-if=\"hasPermission('register-del')\"\r\n              >删除</el-button\r\n            >\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <div class=\"page-div\">\r\n        <el-pagination\r\n          :page-size=\"searchForm.pageSize\"\r\n          background\r\n          layout=\"total, prev, pager, next\"\r\n          :total=\"total\"\r\n          @current-change=\"loadList\"\r\n        >\r\n        </el-pagination>\r\n      </div>\r\n    </div>\r\n    <el-dialog v-model=\"editVisible\" :title=\"dialogTitle\">\r\n      <el-form :model=\"dataForm\" ref=\"dataForm\">\r\n        <el-form-item label=\"来访时间\">\r\n          <el-input v-model=\"dataForm.visitingTime\" disabled />\r\n        </el-form-item>\r\n        <el-form-item label=\"来访单位\">\r\n          <el-input v-model=\"dataForm.visitingDept\" disabled />\r\n        </el-form-item>\r\n        <el-form-item label=\"来访者\">\r\n          <el-input v-model=\"dataForm.visitingName\" disabled />\r\n        </el-form-item>\r\n        <el-form-item label=\"访客电话\">\r\n          <el-input v-model=\"dataForm.visitingPhone\" disabled />\r\n        </el-form-item>\r\n      \r\n        <el-form-item label=\"健康信息\">\r\n          <el-image\r\n            style=\"height: 6.6667vw; width: 6.6667vw; border: 1px solid #e4e7ed\"\r\n            :src=\"dataForm.code1\"\r\n            :preview-src-list=\"srcList\"\r\n            fit=\"contain\"\r\n          >\r\n          </el-image>\r\n          <el-image\r\n            style=\"height: 6.6667vw; width: 6.6667vw; border: 1px solid #e4e7ed\"\r\n            :src=\"dataForm.code2\"\r\n            :preview-src-list=\"srcList\"\r\n            fit=\"contain\"\r\n          >\r\n          </el-image>\r\n          <el-image\r\n            style=\"height: 6.6667vw; width: 6.6667vw; border: 1px solid #e4e7ed\"\r\n            :src=\"dataForm.code3\"\r\n            :preview-src-list=\"srcList\"\r\n            fit=\"contain\"\r\n          >\r\n          </el-image>\r\n        </el-form-item>\r\n        <el-form-item label=\"身份证\">\r\n          <el-input v-model=\"dataForm.visitingNumber\" disabled />\r\n        </el-form-item>\r\n        <el-form-item label=\"车牌号\">\r\n          <el-input v-model=\"dataForm.visitingVehicle\" disabled />\r\n        </el-form-item>\r\n        <el-form-item label=\"来访事由\">\r\n          <el-input v-model=\"dataForm.visitingReason\" disabled />\r\n        </el-form-item>\r\n        <el-form-item label=\"受访者\">\r\n          <el-input v-model=\"dataForm.intervieweeName\" disabled />\r\n        </el-form-item>\r\n        <el-form-item label=\"受访部门\">\r\n          <el-input v-model=\"dataForm.intervieweeDeptName\" disabled />\r\n        </el-form-item>\r\n        <el-form-item label=\"受访单位\">\r\n          <el-input v-model=\"dataForm.intervieweeUnit\" disabled />\r\n        </el-form-item>\r\n        <el-form-item label=\"状态\">\r\n          <el-select v-model=\"dataForm.state\" disabled>\r\n            <el-option label=\"待审核\" value=\"1\"> </el-option>\r\n            <el-option label=\"已通过\" value=\"2\"> </el-option>\r\n            <el-option label=\"已拒绝\" value=\"3\"> </el-option>\r\n            <el-option label=\"已离开\" value=\"4\"> </el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"审核人\">\r\n          <el-input v-model=\"dataForm.reviewName\" disabled />\r\n        </el-form-item>\r\n        <el-form-item label=\"审核时间\">\r\n          <el-input v-model=\"dataForm.reviewTime\" disabled />\r\n        </el-form-item>\r\n        <el-form-item label=\"离开确认\">\r\n          <el-input v-model=\"dataForm.guardName\" disabled />\r\n        </el-form-item>\r\n        <el-form-item label=\"离开时间\">\r\n          <el-input v-model=\"dataForm.leaveTime\" disabled />\r\n        </el-form-item>\r\n      </el-form>\r\n      <template #footer>\r\n        <span class=\"dialog-footer\">\r\n          <el-button @click=\"editVisible = false\">关闭</el-button>\r\n        </span>\r\n      </template>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n<script>\r\nimport qs from \"qs\";\r\nimport { registerList, registerDel, registerEdit } from \"@/api/admin\";\r\nimport { apiDevelop } from \"@/utils/config\";\r\nimport { mapState } from \"vuex\";\r\nexport default {\r\n  computed: {\r\n    ...mapState([\"user\"]),\r\n  },\r\n  data() {\r\n    return {\r\n      total: 0,\r\n      searchForm: {\r\n        intervieweeDept: null,\r\n        keyword: \"\",\r\n        pageNum: 1,\r\n        pageSize: 10,\r\n      },\r\n      daterange: [],\r\n      list: [],\r\n      editVisible: false,\r\n      dialogTitle: \"\",\r\n      dataForm: {},\r\n      srcList: [],\r\n      stateList: [\r\n        {\r\n          label: \"待审核\",\r\n          value: \"1\",\r\n        },\r\n        {\r\n          label: \"已通过\",\r\n          value: \"2\",\r\n        },\r\n        {\r\n          label: \"已拒绝\",\r\n          value: \"3\",\r\n        },\r\n        {\r\n          label: \"已离开\",\r\n          value: \"4\",\r\n        },\r\n      ],\r\n    };\r\n  },\r\n  methods: {\r\n    formatState(row) {\r\n      let st = this.stateList.find((item) => {\r\n        return item.value === row.state;\r\n      });\r\n      return st.label;\r\n    },\r\n    download() {\r\n      let url =\r\n        apiDevelop +\r\n        \"/bsRegisters/excelExport?\" +\r\n        qs.stringify(this.searchForm);\r\n      window.open(url);\r\n    },\r\n    searchDateChange() {\r\n      if (this.daterange) {\r\n        this.searchForm.startTime = this.daterange[0];\r\n        this.searchForm.endTime = this.daterange[1];\r\n      } else {\r\n        this.searchForm.startTime = \"\";\r\n        this.searchForm.endTime = \"\";\r\n      }\r\n    },\r\n    loadList(pageNum) {\r\n      this.searchForm.pageNum = pageNum;\r\n      registerList(this.searchForm).then((res) => {\r\n        this.list = res.data;\r\n        this.total = res.total;\r\n      });\r\n    },\r\n    handleDesc(row) {\r\n      this.editVisible = true;\r\n      this.dialogTitle = \"详情\";\r\n      this.dataForm = row;\r\n      this.srcList = [row.photo, row.code1, row.code2, row.code3];\r\n    },\r\n    handleExit(row) {\r\n      registerEdit({\r\n        id: row.id,\r\n        state: 4,\r\n        guardName: this.user.nickName,\r\n      }).then(() => {\r\n        this.loadList();\r\n      });\r\n    },\r\n    handleDelete(row) {\r\n      this.$msgbox\r\n        .confirm(\"您确认要删除该数据吗?\", \"删除确认\", {\r\n          confirmButtonText: \"确认\",\r\n          cancelButtonText: \"取消\",\r\n          type: \"warning\",\r\n        })\r\n        .then(() => {\r\n          registerDel(row.id).then(() => {\r\n            this.loadList(1);\r\n          });\r\n        });\r\n    },\r\n  },\r\n  mounted() {\r\n    // this.searchForm.intervieweeDept = this.$store.state.user.deptId;\r\n     this.searchForm.parentDept = this.$store.state.user.deptId;\r\n    this.loadList(1);\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>"]}]}